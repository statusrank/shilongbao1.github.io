---
title: TF-IDF算法详解
copyright: true
mathjax: true
tags: 机器学习
categories: 机器学习
abbrlink: 9cb29377
date: 2018-11-06 14:20:21
updated:
---
##什么是TF/IDF?
其实这是两个词的组合,TF与IDF。
TF(Term Frequency词频)即一个词在文中出现的次数，统计出来就是词频TF。
IDF(Inverse Document Frequency)即逆文档频率。
<!--more-->
对于词频,显而易见一个词在文章中出现很多次,那么这个词肯定有很大的作用。但是你自己动手试一下会发现TF大的大都是"的“，"是"这样的词,这样的词显然对我们的统计没什么帮助,反而有的时候会干扰我们的统计，当然我们需要把这些没有用的词给去掉，现在有很多可以去除这些词的方法，比如使用一些停用词的语料库等。
假设我们把它们都过滤掉了，只考虑剩下的有实际意义的词。这样又会遇到了另一个问题，我们可能发现"中国"、"蜜蜂"、"养殖"这三个词的出现次数一样多。这是不是意味着，作为关键词，它们的重要性是一样的？
显然不是这样。因为"中国"是很常见的词，相对而言，"蜜蜂"和"养殖"不那么常见。如果这三个词在一篇文章的出现次数一样多，有理由认为，"蜜蜂"和"养殖"的重要程度要大于"中国"，也就是说，在关键词排序上面，"蜜蜂"和"养殖"应该排在"中国"的前面。
所以，我们需要一个重要性调整系数，衡量一个词是不是常见词。如果某个词比较少见，但是它在这篇文章中多次出现，那么它很可能就反映了这篇文章的特性，正是我们所需要的关键词。
综上,我们需要在词频的基础上,对每个关键词分配一个权重,常见的词给予小的权重,不常见的给予较大的权重。这时候我们的“IDF”就上场了,他的大小与一个**词的常见程度成反比**。
知道了"词频"（TF）和"逆文档频率"（IDF）以后，将这两个值相乘，就得到了一个词的TF-IDF值。**某个词对文章的重要性越高，它的TF-IDF值就越大。所以，排在最前面的几个词，就是这篇文章的关键词。**
##计算公式
###1.计算词频TF
{%asset_img 1.png %}
考虑到文章有长短之分，为了便于不同文章的比较，进行"词频"标准化。
{%asset_img 2.png %}
或者{%asset_img 3.png %}
###2.计算逆文档频率IDF
需要一个语料库（corpus），用来模拟语言的使用环境。
{%asset_img 4.png %}
** 如果一个词越常见，那么分母就越大，逆文档频率就越小越接近0。分母之所以要加1，是为了避免分母为0（即所有文档都不包含该词）。log表示对得到的值取对数。**
###3.计算TF-IDF
{%asset_img 5.png %}
可以看到，TF-IDF与一个词在文档中的出现次数成正比，与该词在整个语言中的出现次数成反比。所以，自动提取关键词的算法就很清楚了，就是**计算出文档的每个词的TF-IDF值，然后按降序排列，取排在最前面的几个词。** 
除了自动提取关键词，TF-IDF算法还可以用于许多别的地方。比如，信息检索时，对于每个文档，都可以分别计算一组搜索词（"中国"、"蜜蜂"、"养殖"）的TF-IDF，将它们相加，就可以得到整个文档的TF-IDF。这个值最高的文档就是与搜索词最相关的文档。
TF-IDF算法的优点是简单快速，结果比较符合实际情况。缺点是，单纯以"词频"衡量一个词的重要性，不够全面，有时重要的词可能出现次数并不多。而且，这种算法无法体现词的位置信息，出现位置靠前的词与出现位置靠后的词，都被视为重要性相同，这是不正确的。一种解决方法是，对全文的第一段和每一段的第一句话，给予较大的权重。
